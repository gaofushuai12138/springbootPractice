<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>love</title>
    <link href="favicon.ico" rel="shortcut icon" />
    <link href="https://cdn.bootcss.com/twitter-bootstrap/3.4.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/1.12.0/jquery.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body  style=" background: url(http://global.bing.com/az/hprichbg/rb/RavenWolf_EN-US4433795745_1920x1080.jpg) no-repeat center center fixed; background-size: 100%;">
<div class="modal-dialog" style="margin-top: 10%;" id="loginForm">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title text-center" id="myModalLabel">登录</h4>
        </div>
        <div class="modal-body" id = "model-body">
            <div class="form-group">
                <input type="text" v-model="username" class="form-control"placeholder="用户名" autocomplete="off">
            </div>
            <div class="form-group">
                <input type="password" v-model="password" class="form-control" placeholder="密码" autocomplete="off">
            </div>
        </div>
        <div class="modal-footer">
            <div class="form-group">
                <button type="button" class="btn btn-primary form-control" v-on:click="login">登录</button>
            </div>
        </div>
    </div><!-- /.modal-content -->
</div><!-- /.modal -->

</body>
<script>
    new Vue({
        el:"#loginForm",
        data:{
            username:"",
            password:""
        },
        methods: {
            login:function(){
                console.log("登录");
                let that = this;
                console.log(that.username)
                $.ajax({
                    url:"http://localhost:8082/login",
                    contentType: "application/json;charset=UTF-8",
                    type:"post",
                    data:JSON.stringify({username:that.username,password:that.password}),
                    success:function(res){
                        console.log(res);
                        if(res.status == 1){
                            location.href = "user.html"
                        }else{
                            alert("登录失败!");
                        }
                    }
                })
            }
        }
    })
</script>

</html>
